<!--
=========================================================
* Paper Dashboard 2 - v2.0.1
=========================================================

* Product Page: https://www.creative-tim.com/product/paper-dashboard-2
* Copyright 2020 Creative Tim (https://www.creative-tim.com)

Coded by www.creative-tim.com

 =========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->
<!doctype html>
<html lang="en">
  <style>
    .hide {
      display: none;
    }
    .show {
      display: block;
    }
  </style>

<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="./assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="./assets/img/favicon.png">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    Jounral Database Slurp  
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
  <!-- CSS Files -->
  <link href="./assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="./assets/css/paper-dashboard.css?v=2.0.1" rel="stylesheet" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link href="./assets/demo/demo.css" rel="stylesheet" />
</head>

<body class="">
  <div class="wrapper" style =" padding: 35px; background-color:powderblue;">
      <div class="content">
        <div class="row">
          <div class="col-md-12">
            <h3>Jounral Database Slurp</h3>
          </div>
        </div>
      </div>

      <div class="content">

      <div class="row">
        <div class="col-lg-3 col-md-6 col-sm-6">
          <div class="card card-stats">
            <div class="card-body ">
              <div class="row">
                <div class="col-5 col-md-4">
                  <div class="icon-big text-center icon-warning">
                    <i class="nc-icon nc-watch-time text-warning"></i>
                  </div>
                </div>
                <div class="col-7 col-md-8">
                  <div class="numbers">
                    <p class="card-category">Execution Time</p>
                    <p class="card-title">null<p>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer ">
              <hr>
              
            </div>
          </div>
        </div>

        <div class="col-lg-3 col-md-6 col-sm-6">
          <div class="card card-stats">
            <div class="card-body ">
              <div class="row">
                <div class="col-5 col-md-4">
                  <div class="icon-big text-center icon-warning">
                    <i class="nc-icon nc-badge text-success"></i>
                  </div>
                </div>
                <div class="col-7 col-md-8">
                  <div class="numbers">
                    <p class="card-category"># Items Reviewed</p>
                    <p class="card-title">00,000<p>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer ">
              <hr>
            </div>
          </div>
        </div>

        <div class="col-lg-3 col-md-6 col-sm-6">
          <div class="card card-stats">
            <div class="card-body ">
              <div class="row">
                <div class="col-5 col-md-4">
                  <div class="icon-big text-center icon-warning">
                    <i class="nc-icon nc-tap-01 text-danger"></i>
                  </div> 
                </div>
                <div class="col-7 col-md-8">
                  <div class="numbers">
                    <p class="card-category"># Manual Intervention</p>
                    <p id = "numManual" class="card-title">00<p>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer ">
              <hr>
            
            </div>
          </div>
        </div>

        <div class="col-lg-3 col-md-6 col-sm-6">
          <div class="card card-stats">
            <div class="card-body ">
              <div class="row">
                <div class="col-5 col-md-4">
                  <div class="icon-big text-center icon-warning">
                    <i class="nc-icon nc-bank text-primary"></i>
                  </div>
                </div>
                <div class="col-7 col-md-8">
                  <div class="numbers">
                    <p class="card-category"># of Schools</p>
                    <p id ="numSchools" class="card-title">420<p>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer ">
              <hr>
            
            </div>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="row">
          <div class="col-md-12">
            <div class="card">
              <div class="card-header">
                <h4 class="description"> Start Scrape By Country</h4>
              </div>
              <div style="text-align:center;"class="card-body ml-auto mr-auto">
                <form action="postmethod.php" method="post"> 
                  <button type="button" id ="btnCan" onclick="clickCanada()" class="btn btn-primary btn-lg"> Canada </button>
                  <button type="button" id ="btnUS" class="btn btn-info btn-lg"> United States </button>
                  <button type="button" id ="btnUK" class="btn btn-success btn-lg"> United Kingdom </button>
                  <button type="button" id ="btnAus" class="btn btn-danger btn-lg"> Australia </button>
                  <button type="button" id ="btnNZ" class="btn btn-warning btn-lg"> New Zealand </button>
                </form>

              </div>
            </div>
          </div>
        </div>
      </div>


      <div class="content hide" id = "manualIntervention">
        <div class="row">
          <div class="col-md-12">
            <div class="card">
              <div class="card-header">
                <h4 class="description"> Manual Intervention for Missing Information</h4>
              </div>
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table">
                    <thead class=" text-primary">
                      <th>  </th>
                      <th> Profile Information </th>
                    </thead>
                    <tbody>
                      <tr>
                        <td class=" text-primary"> Name : </td>
                        <td id="reviewName"> </td>
                      </tr>
                      <tr>
                        <td class=" text-primary"> Email : </td>
                        <td id="reviewEmail"> </td>
                      </tr>
                      <tr>
                        <td class= "text-primary"> Insitution : </td>
                        <td id="ReviewInsit">  </td>
                      </tr>
                      <tr>
                        <td class= "text-primary"> Country : </td>
                        <td id="ReviewCountry"> </td>
                      </tr>
                      <tr>
                        <td class= "text-primary"> Specialization(s) : </td>
                        <td id="ReviewSpec"> </td>
                      </tr>
                      <tr>
                        <td class= "text-primary"> Profile : </td>
                        <td id="ReviewProfile"> </td>
                      </tr>

 
                    </tbody>
                  </table>
                </div>
                <br> <br>
                <form>
                    <h6 class="card-subtitle mb-2 text-muted"> Add The Missing Infomation </h6>
                    <!-- <input rows="1" id="myText" placeholder="enter missing information" class="form-control textarea"> </input> -->
                    <div >
                      <input  size="50" id="textName" placeholder="Enter missing name" class="hide"> </input>  
                      <input  size="50" id="textEmail" placeholder="Enter missing email" class="hide"> </input>  
                      <input size="50" id="textSpec" placeholder="Enter missing specialization(s)" class="hide"> </input> 
                    </div>

                    
                  
                </form>
                <div style="text-align: center;">
                  <button type="button" style="margin-right: 10px;" onclick="updateProfile()" class="btn btn-primary btn-round btn-lg">Update Profile</button>
                  <button type="button" style="margin-left: 10px;" onclick="skipProfile()" class="btn btn-danger btn-round btn-lg">Skip This Profile</button>
                </div>
              </div>
               <!-- <button type="submit" class="btn btn-primary btn-round" onclick="window.open('helloworld.txt')">Download!</button> -->



              
            </div>            
            </div>
          </div>
        </div>
        <div style = "text-align: center; width: 200px;" class = "ml-auto mr-auto">
          <button type="button" id="btnDownload" class="btn btn-lg btn-primary" disabled>Download</button>
        </div>

        



       <footer class="footer footer-black footer-white">
        <div class="container-fluid">
          <div class="row">
            <p id="print"> hello </p>

            <div class="credits ml-auto">
              <span class="copyright">
                Â© 2020, made with <i class="fa fa-heart heart"></i> by Creative Tim
              </span>
            </div>
          </div>
        </div>
      </footer> 
    </div>
  </div>
  <!--   Core JS Files   -->
  <script src="./assets/js/core/jquery.min.js"></script>
  <script src="./assets/js/core/popper.min.js"></script>
  <script src="./assets/js/core/bootstrap.min.js"></script>
  <script src="./assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
  <!--  Google Maps Plugin    -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
  <!-- Chart JS -->
  <script src="./assets/js/plugins/chartjs.min.js"></script>
  <!--  Notifications Plugin    -->
  <script src="./assets/js/plugins/bootstrap-notify.js"></script>
  <!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="./assets/js/paper-dashboard.min.js?v=2.0.1" type="text/javascript"></script>
  <!-- <script type="text/javascript" src="renderjson.js"></script> -->




  <script>
    var json = `{
      
        "profile": {
          "htmlContent": "<html><body><div>...Profile HTML Content...</div></body></html>",
          "url": "https://www.queensu.ca/philosophy/people/daryn-lehoux",
          "department": "Department of Computer Science",
          "institution": {
            "name": "Example University",
            "country": "Canada",
            "address": "1234 Example St., Toronto, ON M1A 1A1",
            "website": "https://www.exampleuniversity.ca/"
          }
        },
        "reviewer": {
            "name": "Daryn Lehoux",
            "salutation": "Dr",
            "email": "lehoux@queensu.ca",
            "institution": {
              "name": "Queen's University",
              "country": "Canada",
              "address": "1234 Example St., Toronto, ON M1A 1A1",
              "website": "https://www.exampleuniversity.ca/"
            },
            "department": "Queen's philosophy department",
            "specializations": ["philosophy of mind", "behavioral philosophy"]
        },
        "missing": [
            "EMAIL",
            "SPECS"
        ]
      
        
    }`; 
    // Converting JSON object to JS object
    var obj = JSON.parse(json);
    
    var temp = obj["reviewer"]["name"];
    var output = `{
      "name": " ",
      "salutation": "Dr",
      "email": " ",
      "institution": {
        "name": " ",
        "country": " ",
        "address": " ",
        "website": " "
      },
      "department": " ",
      "specializations": [ ]
    }`;
    var parseOP = JSON.parse(output);



    parseOP.institution.name = obj["reviewer"]["institution"]["name"];
    parseOP.institution.country = obj["reviewer"]["institution"]["country"];
    parseOP.institution.address = obj["reviewer"]["institution"]["address"];
    parseOP.institution.website = obj["reviewer"]["institution"]["website"];
    parseOP.department = obj["reviewer"]["department"];

              

    document.getElementById("print").innerHTML = "New !";
    document.getElementById("print").innerHTML = obj["missing"];
    if (obj["missing"].includes("EMAIL")){
      document.getElementById("print").innerHTML = "New !";
    }
    document.getElementById("print").innerHTML = parseOP["department"];



    if (!obj["missing"].includes("NAME")){
      document.getElementById("reviewName").innerHTML = obj["reviewer"]["name"];
      //document.getElementById("reviewLast").innerHTML = obj["reviewer"]["lastName"];
      parseOP.name =obj["reviewer"]["name"]; 
      //parseOP.lastName =obj["reviewer"]["lastName"];
    }
    else {
      missingName();
    }

    if (!obj["missing"].includes("EMAIL")){
      document.getElementById("reviewEmail").innerHTML = obj["reviewer"]["email"];
    }
    else {
      missingEmail();
    }

    document.getElementById("ReviewInsit").innerHTML = obj["reviewer"]["institution"]["name"];
    document.getElementById("ReviewCountry").innerHTML = obj["reviewer"]["institution"]["country"];

    if (!obj["missing"].includes("SPECS")){
      document.getElementById("ReviewSpec").innerHTML = obj["reviewer"]["specializations"] + ", &nbsp;";
    }
    else {
      missingSpec();
    }
    document.getElementById("ReviewProfile").innerHTML = obj["profile"]["url"];
    
    
    function myFunction() {
      var x = document.getElementById("myText").value;
      document.getElementById("demo").innerHTML = x;
    }
    
     function clickMe() {
      var y = document.getElementById("textEmail").value;
      parseOP.email = y;

      //localStorage.setItem("testJSON", JSON.stringify(parseOP));
      console.log ("GeeksforGeeks is a portal for geeks.");
    } 

    function clickCanada() {
      var text = document.getElementById("manualIntervention");
      document.getElementById("numSchools").innerHTML = "1";
      document.getElementById("numManual").innerHTML = "2";
      text.classList.toggle("show"); 
    }

    function missingName() {
      var text = document.getElementById("textName");
      text.classList.toggle("show");
    }
    function missingEmail() {
      var text = document.getElementById("textEmail");
      text.classList.toggle("show");
    }
    function missingSpec() {
      var text = document.getElementById("textSpec");
      text.classList.toggle("show");
    }

    function updateProfile () {
      obj.reviewer.name = " ";
      obj.reviewer.email = "paul.fairfield@queensu.ca";
      obj.profile.url = "https://www.queensu.ca/philosophy/people/paul-fairfield";
      obj.reviewer.missing = ["NAME", "SPEC"];
      document.getElementById("reviewEmail").innerHTML = obj["reviewer"]["email"];
      document.getElementById("reviewName").innerHTML = obj["reviewer"]["name"];

      //document.getElementById("reviewProfile").innerHTML = "https://www.queensu.ca/philosophy/people/paul-fairfield";
      document.getElementById("ReviewProfile").innerHTML = obj["profile"]["url"];


      missingName();
      missingEmail();
      //missingSpec();
      //placeholder

    }

    function skipProfile() {
      document.getElementById("btnDownload").disabled = false;

    }


    //parseOP.specializations = obj["reviewer"]["lastName"];
    parseOP.email = obj["reviewer"]["email"];


    document.getElementById("print").innerHTML = parseOP["email"];



  
    const button = document.getElementById('btnCan');

    button.addEventListener('click', async _ => {
      try {     
        const response = await fetch('POST /ca/start', {
          method: 'post',
          body: {
            // Your body
          }
        });
        console.log('Completed!', response);
      } catch(err) {
        console.error(`Error: ${err}`);
      }
    });

    </script>

</body>

</html>
